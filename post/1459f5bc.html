<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Spring（三）Spring MVC - J.e</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="J.e"><meta name="msapplication-TileImage" content="/images/blog/ava.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="J.e"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="在 从MVC到Spring Boot 这一篇中，搭建了 Spring Boot 的 Hello World 程序。这一篇继续学习基于 Spring MVC 框架的应用程序。应用程序由Spring Boot搭建。"><meta property="og:type" content="blog"><meta property="og:title" content="Spring（三）Spring MVC"><meta property="og:url" content="https://jerrysheh.com/post/1459f5bc.html"><meta property="og:site_name" content="J.e"><meta property="og:description" content="在 从MVC到Spring Boot 这一篇中，搭建了 Spring Boot 的 Hello World 程序。这一篇继续学习基于 Spring MVC 框架的应用程序。应用程序由Spring Boot搭建。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://jerrysheh.com/images/Webapp/Springmvc.png"><meta property="og:image" content="https://raw.githubusercontent.com/thymeleaf/thymeleaf-dist/master/src/artwork/thymeleaf%202016/thymeleaf_logo_white.png"><meta property="article:published_time" content="2018-04-18T09:09:56.000Z"><meta property="article:modified_time" content="2020-03-06T15:27:08.806Z"><meta property="article:author" content="Jerry Sheh"><meta property="article:tag" content="Web"><meta property="article:tag" content="Java"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="../../../../images/Webapp/Springmvc.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://jerrysheh.com/post/1459f5bc.html"},"headline":"Spring（三）Spring MVC","image":["https://jerrysheh.com/images/Webapp/Springmvc.png","https://raw.githubusercontent.com/thymeleaf/thymeleaf-dist/master/src/artwork/thymeleaf%202016/thymeleaf_logo_white.png"],"datePublished":"2018-04-18T09:09:56.000Z","dateModified":"2020-03-06T15:27:08.806Z","author":{"@type":"Person","name":"Jerry Sheh"},"publisher":{"@type":"Organization","name":"J.e","logo":{"@type":"ImageObject","url":"https://jerrysheh.com/images/blog/logo.png"}},"description":"在 从MVC到Spring Boot 这一篇中，搭建了 Spring Boot 的 Hello World 程序。这一篇继续学习基于 Spring MVC 框架的应用程序。应用程序由Spring Boot搭建。"}</script><link rel="canonical" href="https://jerrysheh.com/post/1459f5bc.html"><link rel="icon" href="/images/blog/ava.png"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.13.1/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css"><!--!--><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/images/blog/logo.png" alt="J.e" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">时间线</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/about">关于</a><a class="navbar-item" href="/sentences">醍醐灌顶</a><a class="navbar-item" href="/anpu">Anpu</a></div><div class="navbar-end"><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-04-18T09:09:56.000Z" title="2018-4-18 17:09:56">2018-04-18</time>发表</span><span class="level-item"><time dateTime="2020-03-06T15:27:08.806Z" title="2020-3-6 23:27:08">2020-03-06</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/Java-Web/">Java Web</a><span> / </span><a class="link-muted" href="/categories/Java-Web/Spring/">Spring</a></span></div></div><h1 class="title is-3 is-size-4-mobile">Spring（三）Spring MVC</h1><div class="content"><p>在 <a href="../post/6200df85.html">从MVC到Spring Boot</a> 这一篇中，搭建了 Spring Boot 的 Hello World 程序。这一篇继续学习基于 Spring MVC 框架的应用程序。应用程序由Spring Boot搭建。</p>
<span id="more"></span>

<hr>
<h1 id="Spring-MVC-的执行流程"><a href="#Spring-MVC-的执行流程" class="headerlink" title="Spring MVC 的执行流程"></a>Spring MVC 的执行流程</h1><p>在 Spring MVC 框架中，控制器实际上由两部分组成：</p>
<ol>
<li><strong>前端控制器（DispatcherServlet）</strong>：用于拦截所有用户请求和处理通用代码</li>
<li><strong>控制器（Controller）</strong>： 实现实际的业务逻辑。</li>
</ol>
<p><img src="../../../../images/Webapp/Springmvc.png" alt="mvc"></p>
<h2 id="1-DispatcherServlet"><a href="#1-DispatcherServlet" class="headerlink" title="1. DispatcherServlet"></a>1. DispatcherServlet</h2><p>用户请求统一被前端控制器 DispatcherServlet 捕获。DispatcherServlet 解析URL，得到URI，这个 URI 会被交给 Handle Mapping（处理器映射）。</p>
<h2 id="2-Handle-Mapping"><a href="#2-Handle-Mapping" class="headerlink" title="2. Handle Mapping"></a>2. Handle Mapping</h2><p>Handle Mapping 会根据请求所携带的 URL 信息来进行决策，获取该 Handle 的所有相关对象，封装成 HandleExcutionChain 对象返回，DispatcherServlet 根据获得的 Handle，选择一个合适的 HandleAdapter。</p>
<h2 id="3-Handle"><a href="#3-Handle" class="headerlink" title="3. Handle"></a>3. Handle</h2><p>HandlerAdapter 是处理器适配器，Spring MVC通 过HandlerAdapter 来实际调用处理函数。简单地说，就是让 HandlerAdapter 去调用 Handle 实际处理的方法，比如我们编写的 hello 方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ModelAndView <span class="title">handleRequest</span><span class="params">(javax.servlet.http.HttpServletRequest httpServletRequest, javax.servlet.http.HttpServletResponse httpServletResponse)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    <span class="comment">// 处理逻辑</span></span><br><span class="line">    ....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>一般，Controller 是 Handler，但 Handler 不一定是 Controller。</p>
<blockquote>
<p>填充 Handle 传入参数的过程中，Spring帮我们做了很多工作，包括：消息转换（json/xml -&gt; 对象）、数据转换（String -&gt; Integer）、数据格式化、数据验证等。</p>
</blockquote>
<h2 id="4-ModelAndView"><a href="#4-ModelAndView" class="headerlink" title="4. ModelAndView"></a>4. ModelAndView</h2><p>Handle 处理完毕之后，会返回一个 Model， 仅仅有 Model 是不够的，用户看到一般是 View，因此把 Model 返回给 DispatcherServlet。</p>
<h2 id="5-View-Resolver"><a href="#5-View-Resolver" class="headerlink" title="5. View Resolver"></a>5. View Resolver</h2><p>DispatcherServlet 会根据传过来的 Model，通过视图解析器（View Resolver）匹配一个适当的视图实现。</p>
<h2 id="6-View"><a href="#6-View" class="headerlink" title="6. View"></a>6. View</h2><p>视图使用 Model 数据渲染出结果，这个输出结果会通过响应对象传递给客户端。</p>
<hr>
<h1 id="配置注解"><a href="#配置注解" class="headerlink" title="配置注解"></a>配置注解</h1><ul>
<li><code>@SpringBootApplication</code>：表示这是一个Spring Boot应用程序，它其实包含了<code>@ComponentScan</code>、<code>@Configuration</code>和<code>@EnableAutoConfiguration</code>等多个注解。</li>
<li><code>@Configuration</code>： 表示这是一个Java配置（相当于xml配置）</li>
<li><code>@EnableAutoConfiguration</code>：顾名思义，开启自动配置</li>
<li><code>@ComponentScan</code>：扫描包。默认扫描跟<code>@SpringBootApplication</code>所在类同级目录以及子目录。</li>
</ul>
<hr>
<h1 id="URL路由"><a href="#URL路由" class="headerlink" title="URL路由"></a>URL路由</h1><ul>
<li><code>@Controller</code>： 表示是一个处理HTTP请求的控制器(即MVC中的C)，该类中所有被 <code>@RequestMapping</code> 标注的方法都会用来处理对应URL的请求。</li>
</ul>
<h2 id="返回字符串和对象"><a href="#返回字符串和对象" class="headerlink" title="返回字符串和对象"></a>返回字符串和对象</h2><ul>
<li><code>@ResponseBody</code>：返回的是数据（Data），而不是视图（View）。如果数据是 Java 对象而不是字符串或基本数据类型，那么返回的就是 json 格式的（Spring MVC集成了jackson帮我们序列化）。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IndexController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>或者用 <code>@RestController</code>，是 <code>@Controller</code> 和 <code>@ResponseBody</code> 的合体</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IndexController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/api/city&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        City city = cityService.getCity();</span><br><span class="line">        <span class="keyword">return</span> city;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>@RequestMapping</code>： 浏览器请求映射路由，可以标记在方法上，也可以标记在类上。（详细用法可参考<a target="_blank" rel="noopener" href="https://blog.csdn.net/walkerjong/article/details/7994326">CSDN</a>）</li>
</ul>
<p><code>@RequestMapping</code>还可以细分为以下几个Mapping：</p>
<ul>
<li><code>@GetMapping</code>： 浏览器 GET 方法请求映射路由</li>
<li><code>@PutMapping</code></li>
<li><code>@PostMapping</code></li>
<li><code>@DeleteMapping</code></li>
</ul>
<h2 id="返回-HTML-页面"><a href="#返回-HTML-页面" class="headerlink" title="返回 HTML 页面"></a>返回 HTML 页面</h2><p>在 pom.xml 增加 thymeleaf 依赖(thymeleaf是一种比jsp更好的模板引擎)</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span> <span class="comment">&lt;!-- 为了让Thymeleaf能够正确的识别HTML5 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.sourceforge.nekohtml<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>nekohtml<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.22<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>Thymeleaf 遇到没有闭合的HTML标签会报错，可以在 application.properties 文件增加一行 <code>spring.thymeleaf.mode=LEGACYHTML5</code> 以支持HTML5</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;/&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">index</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;index&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/home&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">create</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;home&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>在 resource/templates 目录下放置 index.html 和 home.html，访问 127.0.0.1:8080/ 将跳转到 index.html，访问 127.0.0.1:8080/home 将跳转到 home.html</p>
<p>如果我们的项目变大了，有数十个 html 文件，我们要写很多个这样的样板方法，可以用 java config 简化样板方法</p>
<p>MvcConfig.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MvcConfig</span> <span class="keyword">implements</span> <span class="title">WebMvcConfigurer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addViewControllers</span><span class="params">(ViewControllerRegistry registry)</span> </span>&#123;</span><br><span class="line">        registry.addViewController(<span class="string">&quot;/home&quot;</span>).setViewName(<span class="string">&quot;home&quot;</span>);</span><br><span class="line">        registry.addViewController(<span class="string">&quot;/&quot;</span>).setViewName(<span class="string">&quot;index&quot;</span>);</span><br><span class="line">        registry.addViewController(<span class="string">&quot;/hello&quot;</span>).setViewName(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        registry.addViewController(<span class="string">&quot;/login&quot;</span>).setViewName(<span class="string">&quot;login&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="PathVariable-和-RequestParam"><a href="#PathVariable-和-RequestParam" class="headerlink" title="PathVariable 和 RequestParam"></a>PathVariable 和 RequestParam</h1><h2 id="使用PathVariable获取路径变量"><a href="#使用PathVariable获取路径变量" class="headerlink" title="使用PathVariable获取路径变量"></a>使用PathVariable获取路径变量</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/users/&#123;username&#125;&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">userProfile</span><span class="params">(<span class="meta">@PathVariable</span> String username)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> String.format(<span class="string">&quot;user %s&quot;</span>, username);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以使用下列形式来匹配正则表达式，语法<code>&#123;变量名:正则表达式&#125;</code>，不匹配的URL将不会被处理，直接返回404</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/users/&#123;username:[a-z0-9_]+&#125;&quot;)</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>[a-z0-9_]+是一个正则表达式，表示只能包含小写字母、数字和下划线。</p>
</blockquote>
<p>当有多个路径变量时，用<code>@PathVariable(value = &quot;..&quot;)</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;api/rate/&#123;userId&#125;/&#123;productId&#125;/&#123;rating&#125;&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rate</span><span class="params">(<span class="meta">@PathVariable(value=&quot;userId&quot;)</span> Integer userId,</span></span></span><br><span class="line"><span class="function"><span class="params">                 <span class="meta">@PathVariable(value = &quot;productId&quot;)</span> Integer productId,</span></span></span><br><span class="line"><span class="function"><span class="params">                 <span class="meta">@PathVariable(value = &quot;rating&quot;)</span> Integer rating)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="使用-RequestParam-获取参数"><a href="#使用-RequestParam-获取参数" class="headerlink" title="使用 RequestParam 获取参数"></a>使用 RequestParam 获取参数</h2><p>有时候我们需要处理 URL 中的参数 ，比如<code>127.0.0.1:8080/userinfo?key1=value1&amp;key2=value2</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EditPetForm</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/blogs&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">setupForm</span><span class="params">(<span class="meta">@RequestParam(&quot;id&quot;)</span> <span class="keyword">int</span> blogId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> String.format(<span class="string">&quot;blog id = %d&quot;</span>, blogId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>访问 127.0.0.1:8080/blogs?id=66， 可以看到浏览器显示了 blog id = 66</p>
<ul>
<li>使用<code>@RequestParam(name = &quot;id&quot;, required = false, defaultValue = &quot;1&quot;)</code>，当参数不存在的时候，默认为1</li>
</ul>
<h2 id="如何选择"><a href="#如何选择" class="headerlink" title="如何选择"></a>如何选择</h2><p>两种方式都能获取用户输入：</p>
<ul>
<li>通过<code>@PathVariable</code>，例如/blogs/1</li>
<li>通过<code>@RequestParam</code>，例如blogs?blogId=1</li>
</ul>
<p>建议：</p>
<ul>
<li>当URL指向的是某一具体业务资源（或者资源列表），例如博客、用户时，使用<code>@PathVariable</code></li>
<li>当URL需要对资源或者资源列表进行过滤、筛选时，用<code>@RequestParam</code></li>
</ul>
<p>例如用<code>/blogs?state=publish</code>而不是<code>/blogs/state/publish</code>来表示处于发布状态的博客文章</p>
<h2 id="其他注解"><a href="#其他注解" class="headerlink" title="其他注解"></a>其他注解</h2><ul>
<li><code>@RequestHeader</code>：获得请求头信息，作为方法参数</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/requestheaderTest&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">requestheaderTest</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">              <span class="meta">@RequestHeader(&quot;User-Agent&quot;)</span> String userAgent,</span></span></span><br><span class="line"><span class="function"><span class="params">              <span class="meta">@RequestHeader(&quot;Accept&quot;)</span> String[] accepts)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// do something</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>@CookieValue</code>：获取Cookie信息，作为方法参数</li>
<li><code>@SessionAttributes</code>：允许我们有选择地指定 Model 中那些属性转存到 HttpSession 中。，一般注解在类上。</li>
<li><code>@ModelAttribute</code>：将请求参数绑定到 Model 对象</li>
</ul>
<hr>
<h1 id="使用Thymeleaf模板渲染"><a href="#使用Thymeleaf模板渲染" class="headerlink" title="使用Thymeleaf模板渲染"></a>使用Thymeleaf模板渲染</h1><p><img src="https://raw.githubusercontent.com/thymeleaf/thymeleaf-dist/master/src/artwork/thymeleaf%202016/thymeleaf_logo_white.png" alt="thy"></p>
<h2 id="后台发送数据给模板引擎"><a href="#后台发送数据给模板引擎" class="headerlink" title="后台发送数据给模板引擎"></a>后台发送数据给模板引擎</h2><p>使用<code>Thymeleaf</code>作为模板引擎，在需要动态获取的地方用Thymeleaf标签替代。如</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;title&#125;&quot;</span>&gt;</span>博客标题<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;createdTime&#125;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在HTML中增加命令空间，避免IDE错误提示</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>首先需要在 Controller 做一些工作</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(value = &quot;/bookList&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getBookList</span><span class="params">(ModelMap map)</span></span>&#123;</span><br><span class="line">    List&lt;book&gt; bl = bookService.findAll();</span><br><span class="line">    map.addAttribute(<span class="string">&quot;bookList&quot;</span>, bl);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;bookList&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>也可以简化为</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(value = &quot;/bookList&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getBookList</span><span class="params">(ModelMap map)</span></span>&#123;</span><br><span class="line">    map.addAttribute(<span class="string">&quot;bookList&quot;</span>, bookService.findAll());</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;bookList&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这个 Controller 接收一个 ModelMap ，<code>map.addAttribute()</code>的第一个参数是属性名字，第二个参数是属性值，这个值就是 <code>bookService.findAll()</code>的返回结果。</p>
<p>这样就会把 <code>bookService.findAll()</code> 的结果（ <code>List&lt;book&gt;</code> 类型，在<code>addAttribute</code>方法里面刚刚给它命名为<code>bookList</code>了）传给 bookList.html</p>
<blockquote>
<p>在Servlet编程中，如果希望在页面中动态渲染信息，一般需要往HttpRequest中添加属性，然后在JSP中获取。其实Model的属性实际上也是放在HttpRequest的属性中，但是Spring MVC提供了更高层的抽象，帮你屏蔽了HttpRequest，你看到的只有直接以MVC中M（即Model）。</p>
</blockquote>
<p>在模板中用<code>th:each</code>来遍历这个 List<book></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">&quot;table table-striped&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>博客<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>标题<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:each</span>=<span class="string">&quot;blog: $&#123;blogList&#125;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">&quot;row&quot;</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;blog.blogId&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;blog.blogTitle&#125;&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;blog.blogContent&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>有时候我们会想点击某个标题跳转到详细页面，用<code>th:href</code>属性</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;&#x27;/blogs/&#x27;+$&#123;blog.id&#125;&#125;&quot;</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;blog.title&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="从前端模板接收数据"><a href="#从前端模板接收数据" class="headerlink" title="从前端模板接收数据"></a>从前端模板接收数据</h2><p>当用户进入 /create 路由，会跳转到创建博客的页面，<code>createBlog()</code>方法给前端传入了一个 blog 对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 添加博客</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@GetMapping(value = &quot;/create&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">createBlog</span><span class="params">(Blog blog)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> BLOG_CREATE_PAGE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>创建博客页面有一个表单（form），表单提交数据</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">role</span>=<span class="string">&quot;form&quot;</span> <span class="attr">method</span>=<span class="string">&#x27;post&#x27;</span> <span class="attr">action</span>=<span class="string">&quot;#&quot;</span> <span class="attr">th:action</span>=<span class="string">&quot;@&#123;/blog/create/post&#125;&quot;</span> <span class="attr">th:object</span>=<span class="string">&quot;$&#123;blog&#125;&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;blogTitle&quot;</span>&gt;</span>微博标题<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">id</span>=<span class="string">&quot;blogTitle&quot;</span> <span class="attr">th:field</span>=<span class="string">&quot;*&#123;blogTitle&#125;&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;输入文章标题&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;blogContent&quot;</span>&gt;</span>微博内容<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">rows</span>=<span class="string">&quot;10&quot;</span> <span class="attr">id</span>=<span class="string">&quot;blogContent&quot;</span> <span class="attr">th:field</span>=<span class="string">&quot;*&#123;blogContent&#125;&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;输入文章内容&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-default&quot;</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>th:action=&quot;@&#123;/blog/create/post&#125;&quot;</code>表示要提交的路由</li>
<li><code>th:object=&quot;$&#123;blog&#125;&quot;</code>表示接收从刚刚的路由传入的对象</li>
<li><code>th:field=&quot;*&#123;blogTitle&#125;&quot;</code>和 <code>th:field=&quot;*&#123;blogContent&#125;&quot;</code>表示当按下提交按钮，这两个输入框的内容将会绑定为 blog 对象的 blogTitle属性 和 blogContent 属性。然后传回给后端。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 处理添加请求</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@PostMapping(value = &quot;/create/post&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">postBlog</span><span class="params">(<span class="meta">@ModelAttribute(value=&quot;blog&quot;)</span> Blog blog)</span></span>&#123;</span><br><span class="line">    blogService.addBlog(blog.getBlogTitle(),blog.getBlogContent());</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;redirect:/blog/&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>后端接收 blog 对象，进行处理。</p>
<ul>
<li>更多关于Thymeleaf的内容：<a href="../post/7c6dd7fa.html">使用Thymeleaf模板引擎</a></li>
</ul>
<hr>
<h1 id="ModelMap-和-ModelAndView-区别"><a href="#ModelMap-和-ModelAndView-区别" class="headerlink" title="ModelMap 和 ModelAndView 区别"></a>ModelMap 和 ModelAndView 区别</h1><p>在控制器方法中，我们传入了一个 ModelMap 参数，或者 ModelAndView 。区别如下：</p>
<ul>
<li>ModelMap的实例是spirng mvc框架自动创建并作为控制器方法参数传入，用户无需自己创建。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">xxxxmethod</span><span class="params">(String someparam,ModelMap model)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">     <span class="comment">//省略方法处理逻辑若干</span></span><br><span class="line">     <span class="comment">//将数据放置到ModelMap对象model中,第二个参数可以是任何java类型</span></span><br><span class="line">      model.addAttribute(<span class="string">&quot;key&quot;</span>,someparam);</span><br><span class="line">         ......</span><br><span class="line">     <span class="comment">//返回跳转地址</span></span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;path:handleok&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ModelAndView的实例是由用户手动创建的，这也是和ModelMap的一个区别。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ModelAndView <span class="title">xxxxmethod</span><span class="params">(String someparam)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">     <span class="comment">//省略方法处理逻辑若干</span></span><br><span class="line">      <span class="comment">//构建ModelAndView实例，并设置跳转地址</span></span><br><span class="line">      ModelAndView view = <span class="keyword">new</span> ModelAndView(<span class="string">&quot;path:handleok&quot;</span>);</span><br><span class="line">      <span class="comment">//将数据放置到ModelAndView对象view中,第二个参数可以是任何java类型</span></span><br><span class="line">      view.addObject(<span class="string">&quot;key&quot;</span>,someparam);</span><br><span class="line">    ......</span><br><span class="line">     <span class="comment">//返回ModelAndView对象view</span></span><br><span class="line">      <span class="keyword">return</span> view;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ModelAndView 实际上包含了两个 object ：</p>
<ol>
<li><strong>Model</strong>：用于渲染页面的 k-v 键值对数据</li>
<li><strong>View</strong>：填充了Model里面的数据的页面模板</li>
</ol>
<hr>
<h1 id="ModelAttribute与-RequestBody的区别"><a href="#ModelAttribute与-RequestBody的区别" class="headerlink" title="@ModelAttribute与@RequestBody的区别"></a>@ModelAttribute与@RequestBody的区别</h1><ul>
<li><strong>@RequestBody</strong>: 用于接收json，如ajax请求的data参数，在接收后直接转换成Pojo。支持 POST、PUT 等多种HTTP方法。</li>
<li><strong>@ModelAttribute</strong>: 在 GET 请求中，用于直接接收URL的参数，如url?id=123&amp;name=456 在接收后直接转换成Pojo。 在 POST 请求中， 用于接收POST提交的内容。</li>
</ul>
<p>注： GET 请求参数还可用 <code>@RequestParam</code> 来获取。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  添加商品</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> product</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@PutMapping(&quot;&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Integer <span class="title">addProduct</span><span class="params">(<span class="meta">@RequestBody</span> Product product)</span></span>&#123;</span><br><span class="line">    productService.addProduct(product);</span><br><span class="line">    <span class="keyword">return</span> product.getId();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<hr>
<h1 id="使用-PageHelper-分页"><a href="#使用-PageHelper-分页" class="headerlink" title="使用 PageHelper 分页"></a>使用 PageHelper 分页</h1><p>PageHelper 是 Mybatis 的一个分页插件。</p>
<p>获取最新版本：<a target="_blank" rel="noopener" href="https://mvnrepository.com/artifact/com.github.pagehelper/pagehelper-spring-boot-starter">https://mvnrepository.com/artifact/com.github.pagehelper/pagehelper-spring-boot-starter</a></p>
<p>添加分页依赖</p>
<p>pom.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>控制器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  获取某个分类下所有在售商品</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> cateId 分类ID</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@GetMapping(value = &quot;&#123;cate_id&#125;/product&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> PageInfo&lt;Product&gt; <span class="title">getProductByCateId</span><span class="params">(<span class="meta">@PathVariable(value = &quot;cate_id&quot;)</span> Integer cateId,</span></span></span><br><span class="line"><span class="function"><span class="params">                                        <span class="meta">@RequestParam(value = &quot;start&quot;, defaultValue = &quot;1&quot;)</span> <span class="keyword">int</span> start,</span></span></span><br><span class="line"><span class="function"><span class="params">                                        <span class="meta">@RequestParam(value = &quot;size&quot;, defaultValue = &quot;9&quot;)</span> <span class="keyword">int</span> size)</span></span>&#123;</span><br><span class="line">    PageHelper.startPage(start,size,<span class="string">&quot;id desc&quot;</span>);</span><br><span class="line">    List&lt;Product&gt; products = categoryService.getProductByCateId(cateId);</span><br><span class="line">    PageInfo&lt;Product&gt; page = <span class="keyword">new</span> PageInfo&lt;&gt;(products);</span><br><span class="line">    <span class="keyword">return</span> page;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="全局配置"><a href="#全局配置" class="headerlink" title="全局配置"></a>全局配置</h1><p>在项目 resource 目录下，修改<code>application.properties</code>文件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">## 服务器配置</span><br><span class="line">server.port &#x3D; 8089</span><br><span class="line">server.context-path&#x3D;&#x2F;test</span><br><span class="line"></span><br><span class="line">## 数据源配置</span><br><span class="line">spring.datasource.url&#x3D;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;springbootdb?useUnicode&#x3D;true&amp;characterEncoding&#x3D;utf8</span><br><span class="line">spring.datasource.username&#x3D;root</span><br><span class="line">spring.datasource.password&#x3D;123456</span><br><span class="line">spring.datasource.driver-class-name&#x3D;com.mysql.jdbc.Driver</span><br><span class="line"></span><br><span class="line">## Mybatis 配置（仅xml方式）</span><br><span class="line">mybatis.typeAliasesPackage&#x3D;org.spring.springboot.domain</span><br><span class="line">mybatis.mapperLocations&#x3D;classpath:mapper&#x2F;*.xml</span><br><span class="line"></span><br><span class="line">## thymeleaf 配置</span><br><span class="line">spring.thymeleaf.suffix&#x3D;.html</span><br><span class="line">spring.thymeleaf.prefix&#x3D;classpath:templates</span><br><span class="line">spring.thymeleaf.encoding&#x3D;UTF-8</span><br><span class="line">spring.thymeleaf.cache&#x3D;false</span><br><span class="line">spring.thymeleaf.mode&#x3D;LEGACYHTML5</span><br><span class="line"></span><br><span class="line"># JPA 相关配置</span><br><span class="line"># 配置在日志中打印出执行的 SQL 语句信息</span><br><span class="line">spring.jpa.show-sql&#x3D;true</span><br></pre></td></tr></table></figure>
</div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Web/">Web</a><a class="link-muted mr-2" rel="tag" href="/tags/Java/">Java</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/post/69895030.html"><i class="level-item fas fa-chevron-left"></i><span class="level-item">设计模式（一）会飞的鸭子（策略模式）</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/post/72ef7508.html"><span class="level-item">Spring（二） SpringBoot 集成 Mybatis</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/images/blog/ava.png" alt="Jerry Sheh"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Jerry Sheh</p><p class="is-size-6 is-block">车顶上绑着飞机发动机</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Shenzhen</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">180</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">36</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">36</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="mailto:jerrysheh@gmail.com" target="_blank" rel="noopener">联系我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/Jerrysheh"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="email" href="mailto:jerrysheh@gmail.com"><i class="fa fa-envelope"></i></a></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Android/"><span class="level-start"><span class="level-item">Android</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/C-C/"><span class="level-start"><span class="level-item">C/C++</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Golang/"><span class="level-start"><span class="level-item">Golang</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">44</span></span></a><ul><li><a class="level is-mobile" href="/categories/Java/Concurrent/"><span class="level-start"><span class="level-item">Concurrent</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Java/Effective-Java/"><span class="level-start"><span class="level-item">Effective Java</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Java/JDBC/"><span class="level-start"><span class="level-item">JDBC</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Java/JVM/"><span class="level-start"><span class="level-item">JVM</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Java/Java-SE/"><span class="level-start"><span class="level-item">Java SE</span></span><span class="level-end"><span class="level-item tag">21</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Java-Web/"><span class="level-start"><span class="level-item">Java Web</span></span><span class="level-end"><span class="level-item tag">15</span></span></a><ul><li><a class="level is-mobile" href="/categories/Java-Web/Spring/"><span class="level-start"><span class="level-item">Spring</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/Java-Web/Web/"><span class="level-start"><span class="level-item">Web</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Java-Web/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"><span class="level-start"><span class="level-item">微服务</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"><span class="level-start"><span class="level-item">中间件</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/redis/"><span class="level-start"><span class="level-item">redis</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/"><span class="level-start"><span class="level-item">前端</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"><span class="level-start"><span class="level-item">大数据</span></span><span class="level-end"><span class="level-item tag">12</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/Scala/"><span class="level-start"><span class="level-item">Scala</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/Spark/"><span class="level-start"><span class="level-item">Spark</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/hadoop/"><span class="level-start"><span class="level-item">hadoop</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%8A%80%E8%83%BD/"><span class="level-start"><span class="level-item">技能</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%8A%80%E8%83%BD/Docker/"><span class="level-start"><span class="level-item">Docker</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%8A%80%E8%83%BD/git/"><span class="level-start"><span class="level-item">git</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%8A%80%E8%83%BD/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"><span class="level-start"><span class="level-item">正则表达式</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"><span class="level-start"><span class="level-item">操作系统</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"><span class="level-start"><span class="level-item">数据库</span></span><span class="level-end"><span class="level-item tag">6</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/SQL%E8%AF%AD%E6%B3%95/"><span class="level-start"><span class="level-item">SQL语法</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/%E9%AB%98%E6%80%A7%E8%83%BDMySQL/"><span class="level-start"><span class="level-item">高性能MySQL</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/"><span class="level-start"><span class="level-item">数据结构和算法</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/%E7%9E%8E%E6%8A%98%E8%85%BE/"><span class="level-start"><span class="level-item">瞎折腾</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E9%80%9F%E6%88%90%E8%AF%BE/"><span class="level-start"><span class="level-item">计算机科学速成课</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"><span class="level-start"><span class="level-item">计算机网络</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><span class="level-start"><span class="level-item">设计模式</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%AF%BB%E4%B9%A6%E4%B8%8E%E7%94%9F%E6%B4%BB/"><span class="level-start"><span class="level-item">读书与生活</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#Spring-MVC-的执行流程"><span class="level-left"><span class="level-item">1</span><span class="level-item">Spring MVC 的执行流程</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#1-DispatcherServlet"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">1. DispatcherServlet</span></span></a></li><li><a class="level is-mobile" href="#2-Handle-Mapping"><span class="level-left"><span class="level-item">1.2</span><span class="level-item">2. Handle Mapping</span></span></a></li><li><a class="level is-mobile" href="#3-Handle"><span class="level-left"><span class="level-item">1.3</span><span class="level-item">3. Handle</span></span></a></li><li><a class="level is-mobile" href="#4-ModelAndView"><span class="level-left"><span class="level-item">1.4</span><span class="level-item">4. ModelAndView</span></span></a></li><li><a class="level is-mobile" href="#5-View-Resolver"><span class="level-left"><span class="level-item">1.5</span><span class="level-item">5. View Resolver</span></span></a></li><li><a class="level is-mobile" href="#6-View"><span class="level-left"><span class="level-item">1.6</span><span class="level-item">6. View</span></span></a></li></ul></li><li><a class="level is-mobile" href="#配置注解"><span class="level-left"><span class="level-item">2</span><span class="level-item">配置注解</span></span></a></li><li><a class="level is-mobile" href="#URL路由"><span class="level-left"><span class="level-item">3</span><span class="level-item">URL路由</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#返回字符串和对象"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">返回字符串和对象</span></span></a></li><li><a class="level is-mobile" href="#返回-HTML-页面"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">返回 HTML 页面</span></span></a></li></ul></li><li><a class="level is-mobile" href="#PathVariable-和-RequestParam"><span class="level-left"><span class="level-item">4</span><span class="level-item">PathVariable 和 RequestParam</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#使用PathVariable获取路径变量"><span class="level-left"><span class="level-item">4.1</span><span class="level-item">使用PathVariable获取路径变量</span></span></a></li><li><a class="level is-mobile" href="#使用-RequestParam-获取参数"><span class="level-left"><span class="level-item">4.2</span><span class="level-item">使用 RequestParam 获取参数</span></span></a></li><li><a class="level is-mobile" href="#如何选择"><span class="level-left"><span class="level-item">4.3</span><span class="level-item">如何选择</span></span></a></li><li><a class="level is-mobile" href="#其他注解"><span class="level-left"><span class="level-item">4.4</span><span class="level-item">其他注解</span></span></a></li></ul></li><li><a class="level is-mobile" href="#使用Thymeleaf模板渲染"><span class="level-left"><span class="level-item">5</span><span class="level-item">使用Thymeleaf模板渲染</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#后台发送数据给模板引擎"><span class="level-left"><span class="level-item">5.1</span><span class="level-item">后台发送数据给模板引擎</span></span></a></li><li><a class="level is-mobile" href="#从前端模板接收数据"><span class="level-left"><span class="level-item">5.2</span><span class="level-item">从前端模板接收数据</span></span></a></li></ul></li><li><a class="level is-mobile" href="#ModelMap-和-ModelAndView-区别"><span class="level-left"><span class="level-item">6</span><span class="level-item">ModelMap 和 ModelAndView 区别</span></span></a></li><li><a class="level is-mobile" href="#ModelAttribute与-RequestBody的区别"><span class="level-left"><span class="level-item">7</span><span class="level-item">@ModelAttribute与@RequestBody的区别</span></span></a></li><li><a class="level is-mobile" href="#使用-PageHelper-分页"><span class="level-left"><span class="level-item">8</span><span class="level-item">使用 PageHelper 分页</span></span></a></li><li><a class="level is-mobile" href="#全局配置"><span class="level-left"><span class="level-item">9</span><span class="level-item">全局配置</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">推荐链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://www.wmyskxz.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">我没有三颗心脏</span></span><span class="level-right"><span class="level-item tag">www.wmyskxz.com</span></span></a></li><li><a class="level is-mobile" href="https://www.cnblogs.com/vamei/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Vamei</span></span><span class="level-right"><span class="level-item tag">www.cnblogs.com</span></span></a></li><li><a class="level is-mobile" href="https://www.celesteheadlee.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">celesteheadlee</span></span><span class="level-right"><span class="level-item tag">www.celesteheadlee.com</span></span></a></li><li><a class="level is-mobile" href="https://www.xaprb.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Baron Schwartz</span></span><span class="level-right"><span class="level-item tag">www.xaprb.com</span></span></a></li><li><a class="level is-mobile" href="http://tutorials.jenkov.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">jenkov</span></span><span class="level-right"><span class="level-item tag">tutorials.jenkov.com</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/images/blog/logo.png" alt="J.e" height="28"></a><p class="is-size-7"><span>&copy; 2021 Jerry Sheh</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">共<span id="busuanzi_value_site_uv">0</span>个访客</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><div id="outdated"><h6>Your browser is out-of-date!</h6><p>Update your browser to view this website correctly.&amp;npsb;<a id="btnUpdateBrowser" target="_blank" rel="noopener" href="http://outdatedbrowser.com/">Update my browser now </a></p><p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">×</a></p></div><script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script><script>window.addEventListener("load", function () {
            outdatedBrowser({
                bgColor: '#f25648',
                color: '#ffffff',
                lowerThan: 'object-fit' // display on IE11 or below
            });
        });</script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>